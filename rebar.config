%%-*- mode: erlang -*-

{cover_enabled, true}.

{erl_opts, [debug_info, fail_on_warning,
            {parse_transform, lager_transform}]}.

{deps, [lager,
        folsom,
        poolboy,
        jsx,
        {dns, {git, "git://github.com/aetrion/dns_erlang.git", {branch, "master"}}}]}.

{overrides, [{override, dns, [{plugins,
                               [{provider_asn1, {git, "https://github.com/knusbaum/provider_asn1.git", {tag, "0.1.1"}}}]},
                              {provider_hooks, [{pre, [{compile, asn}]}]}]}]}.

{relx, [{release, {erldns, "1.0.0"},
         [erldns]},

        {dev_mode, true},
        {include_erts, false},

        {sys_config, "config/sys.config"},
        {vm_args, "config/vm.args"},

        {extended_start_script, true}]}.
